<!DOCTYPE html>
<html>  
<script>

function startProblem(uI,vals){
  if(uI == 1) return problem1(vals); 
  else if(uI == 2) return problem2(vals); 
  else if(uI == 3) return problem3(vals);
  else if(uI == 4) return problem4(vals);
  else if(uI == 5) return problem5(vals);
  else if(uI == 6) return problem6(vals);
  else if(uI == 7) return problem7(vals);
  else if(uI == 8) return problem8(vals);
  else if(uI == 9) return problem9(vals);
  else if(uI == 10) return problem10(vals);
  return "You're a fucking idiot. Try Again.";
}

var h = 6.626 * Math.pow(10, -34);
var c = 3.0 * Math.pow(10,8);
var me = 9.1 * Math.pow(10,-31);
var qe = 1.6 * Math.pow(10,-19);
var mp = 1.672 * Math.pow(10,-27);

function problem1(vals){
  return 13.6 * (1.0/(vals[0]*vals[0]));
}

function problem2(vals){
  var lambda = vals[0] * Math.pow(10,-9);
  return (h*c) / (lambda*qe);
}

function problem3(vals){
  var x = prompt("3) Enter atomic number for your element.") * 1.0;
  return h*c / (2.18*Math(10,-18)*x*x*(1.0 - (1.0/9)));
}

function problem4(vals){
  var lambdali = vals[2];
  var zli = vals[0];
  var zb = vals[1];
  return lambdali*zli*zli/(zb*zb);
}

function problem5(vals){
  var ni = vals[0];
  var nf = vals[1];
  return -13.6 * ((1.0/(nf*nf))-(1.0/(ni*ni)));
}

function problem6(vals){ 
  return choose(vals[0],2);
}

function problem7(vals){
  var ro = vals[2] * Math.pow(10,-11);
  var rn = vals[0] * Math.pow(10,-15);
  return 0.99945478843577 * (ro*ro*ro) / (rn*rn*rn);
}

function problem8(vals){
  var v = vals[0] * Math.pow(10,6);
  var f = prompt("For 8) Enter the factor in decimal.") * 1.0;
  return 436400 / ((v*v) - Math.pow(f*v,2));
}

function problem9(vals){
  var n = vals[2];
  var z = Math.sqrt(vals[1]*vals[0]*vals[0]/-13.6);
  return 5.29 * Math.pow(10,-11) * (n*n/z);
}

function problem10(vals){
  var n = vals[0];
  var r = 1.097 * Math.pow(10,-2);
  var z = 1;
  return -1.0/(r*z*((1.0/Math.pow(n+1,2))-(1.0/(n*n))));
}

function factorial(x){
    x = parseInt(x, 10);
    if (isNaN(x)) return 1;
    
    if (x <= 0) return 1;
    // if x above 170, return infinity
    if (x > 170) return Infinity;
    // calculating the factorial
    var y = 1;
    for (var i = x; i>0; i--){
        y *= i;
    }
    return y;
}

function choose(n, k){
    // validating the input
    n = parseInt(n, 10);
    if (isNaN(n)) n = 0;
    if (n < 0) n = 0;
    
    k = parseInt(k, 10);
    if (isNaN(k)) k = 0;
    if (k < 0) k = 0;
    if (k > n) k = n;
    
    return (factorial(n)) / (factorial(k) * factorial(n - k));
}

function toDegrees (angle) {
  return angle * (180 / Math.PI);
}

function toRadians (angle) {
  return angle * (Math.PI / 180);
}

function parser() {
    var fileDisplayArea = document.getElementById('fileDisplayArea');
    fileDisplayArea.innerText = "";
    var strToBeParsed = document.getElementById('txtar').value;
    var queArr = strToBeParsed.split('\n');
    for (sSub in queArr) {
          if(queArr[sSub].length < 50) {continue};
          sSub = parseInt(sSub);
          var strVals = queArr[sSub].match(/[-+]?\d[\.\d]*/g);
          if (strVals === null) {break};
          var queString = strVals.splice(0,1).toString();
          var queNum = parseInt(queString.substr(0,queString.length - 1));
          var strVals = queArr[sSub].match(/\s[-|+]?\d[\.\d]*/g);
          var numVals = [];
          for(i in strVals){
            if (strVals[i] != '.') {
                //fileDisplayArea.innerText += strVals[i] + " ";
               numVals.push(parseFloat(strVals[i]));
            };
          };
          fileDisplayArea.innerText += queNum + ') ' + startProblem(queNum,numVals) + '\n';
    };
}

/*window.onload = function()  {
    var fileInput = document.getElementById('fileInput');
    var fileDisplayArea = document.getElementById('fileDisplayArea');

    fileInput.addEventListener('change', function(e) {
      var file = fileInput.files[0];
      var textType = /text.*/   /*;

      if (file.type.match(textType)) {

       var reader = new FileReader();
       
       reader.onload = function(e) {
        fileDisplayArea.innerText = "";
        var str = reader.result;
        var strArr = str.split('\n');
        for (sSub in strArr) {
          sSub = parseInt(sSub);
          var strVals = strArr[sSub].split(' ');
          for(i in strVals){strVals[i] = parseFloat(strVals[i])};
          fileDisplayArea.innerText += (sSub + 1) + ") " + startProblem((sSub+1),strVals) + '\n';
          if(sSub == 9) break;
        };
       }

       reader.readAsText(file);  

      } else {
        fileDisplayArea.innerText = "File not supported!";
      }
    });
}*/
</script>

<body bgcolor="#FAFAD2">
  <h1 align="center" >Physics HW #13</h1>
  <table id="page-wrapper" cellspacing="20">
      <td><textarea id="txtar" rows="10" cols="50" oninput="parser()"></textarea></td>
      <td><pre id="fileDisplayArea"></pre></td> 
  </table>
</body>
</html>